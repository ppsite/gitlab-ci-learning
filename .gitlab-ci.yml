# 默认执行顺序
stages:
  - build
  - test
  - deploy

  # build packs
build_win:
  stage: build
  script:
    - sleep 10
    - echo "Build Windows Packs"

build_linux:
  stage: build
  script:
    - echo "Build Linux Packs"

build_mac:
  stage: build
  script:
    - echo "Build Mac Packs"

# test packs
test_win:
  stage: test
  needs:
    - build_win
  script:
    - sleep 10
    - echo "Test Windows Packs"

test_linux:
  stage: test
  needs:
    - build_linux
  script:
    - echo "Test Linux Packs"

test_mac:
  stage: test
  needs:
    - build_mac
  script:
    - echo "Test Mac Packs"

# deploy packs
deploy_win:
  stage: deploy
  needs:
    - test_win
  script:
    - echo "Deploy Windows Packs"

deploy_linux:
  stage: deploy
  needs:
    - test_linux
  script:
    - echo "Deploy Linux Packs"

deploy_mac:
  stage: deploy
  needs:
    - test_mac
  script:
    - echo "Deploy Mac Packs"